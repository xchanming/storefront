"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[87647],{7647:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var n=s(3107),o=s(9568),r=s(2363),a=s(4049),i=s(3019);let l="js-pseudo-modal-template-content-element";class d extends o.Z{static #e=this.options={modalBackdrop:!0,urlAttribute:"data-url",prevUrlAttribute:"data-prev-url",modalClassAttribute:"data-modal-class",modalClass:null,centerLoadingIndicatorClass:"text-center"};init(){this._registerEvents()}_registerEvents(){this.el.removeEventListener("click",this._onClickHandleAjaxModal.bind(this)),this.el.addEventListener("click",this._onClickHandleAjaxModal.bind(this))}_onClickHandleAjaxModal(e){e.cancelable&&(e.preventDefault(),e.stopPropagation());let t=new i.Z("",this.options.modalBackdrop);window.focusHandler.saveFocusState("ajax-modal"),this._openModal(t),t.getModal().addEventListener("hidden.bs.modal",()=>{window.focusHandler.resumeFocusState("ajax-modal")});let s=a.Z.querySelector(t._modal,`.${l}`);s.classList.add(this.options.centerLoadingIndicatorClass),this._loadModalContent(t,s)}_openModal(e){let t=[a.Z.getAttribute(this.el,this.options.modalClassAttribute,!1),this.options.modalClass];e.open(this._onModalOpen.bind(this,e,t),0)}_loadModalContent(e,t){let s=new r.Z(t);s.create();let n=a.Z.getAttribute(this.el,this.options.urlAttribute);t.classList.add(this.options.centerLoadingIndicatorClass),this.httpClient.get(n,n=>{this._processResponse(n,s,e,t)})}_processResponse(e,t,s,n){t.remove(),s.updateContent(e,this._renderBackButton.bind(this,s)),window.PluginManager.initializePlugins(),n.classList.remove(this.options.centerLoadingIndicatorClass)}_renderBackButton(e){let t=a.Z.getAttribute(this.el,this.options.prevUrlAttribute,!1);if(!t)return;let s=a.Z.querySelector(document,".js-pseudo-modal-back-btn-template",!1);if(!s)return;let n=s.content.cloneNode(!0);n.children.length&&(n.children[0].setAttribute("href",t),n.children[0].setAttribute("data-url",t),n.children[0].style.marginLeft="20px",a.Z.querySelector(e._modal,`.${l}`).prepend(n))}_onModalOpen(e,t){let s=e.getModal();s.classList.add(...t),window.PluginManager.initializePlugins(),this.$emitter.publish("ajaxModalOpen",{modal:s})}constructor(...e){super(...e),this.httpClient=new n.Z}}},3107:(e,t,s)=>{s.d(t,{Z:()=>n});class n{constructor(){this._request=null,this._errorHandlingInternal=!1}get(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",n=this._createPreparedRequest("GET",e,s);return this._sendRequest(n,null,t)}post(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";n=this._getContentType(t,n);let o=this._createPreparedRequest("POST",e,n);return this._sendRequest(o,t,s)}delete(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";n=this._getContentType(t,n);let o=this._createPreparedRequest("DELETE",e,n);return this._sendRequest(o,t,s)}patch(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";n=this._getContentType(t,n);let o=this._createPreparedRequest("PATCH",e,n);return this._sendRequest(o,t,s)}abort(){if(this._request)return this._request.abort()}setErrorHandlingInternal(e){this._errorHandlingInternal=e}_registerOnLoaded(e,t){t&&(!0===this._errorHandlingInternal?(e.addEventListener("load",()=>{t(e.responseText,e)}),e.addEventListener("abort",()=>{console.warn(`the request to ${e.responseURL} was aborted`)}),e.addEventListener("error",()=>{console.warn(`the request to ${e.responseURL} failed with status ${e.status}`)}),e.addEventListener("timeout",()=>{console.warn(`the request to ${e.responseURL} timed out`)})):e.addEventListener("loadend",()=>{t(e.responseText,e)}))}_sendRequest(e,t,s){return this._registerOnLoaded(e,s),e.send(t),e}_getContentType(e,t){return e instanceof FormData&&(t=!1),t}_createPreparedRequest(e,t,s){return this._request=new XMLHttpRequest,this._request.open(e,t),this._request.setRequestHeader("X-Requested-With","XMLHttpRequest"),s&&this._request.setRequestHeader("Content-type",s),this._request}}},5774:(e,t,s)=>{s.d(t,{ZP:()=>h,ar:()=>i});var n=s(5206);let o="modal-backdrop",r="modal-backdrop-open",a="no-scroll",i=350,l={ON_CLICK:"backdrop/onclick"};class d{constructor(){return d.instance||(d.instance=this),d.instance}create(e){this._removeExistingBackdrops(),document.body.insertAdjacentHTML("beforeend",this._getTemplate());let t=document.body.lastChild;document.documentElement.classList.add(a),setTimeout(function(){t.classList.add(r),"function"==typeof e&&e()},75),this._dispatchEvents()}remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this._getBackdrops().forEach(e=>e.classList.remove(r)),setTimeout(this._removeExistingBackdrops.bind(this),e),document.documentElement.classList.remove(a)}_dispatchEvents(){let e=n.Z.isTouchDevice()?"touchstart":"click";document.addEventListener(e,function(e){e.target.classList.contains(o)&&document.dispatchEvent(new CustomEvent(l.ON_CLICK))})}_getBackdrops(){return document.querySelectorAll(`.${o}`)}_removeExistingBackdrops(){!1!==this._exists()&&this._getBackdrops().forEach(e=>e.remove())}_exists(){return document.querySelectorAll(`.${o}`).length>0}_getTemplate(){return`<div class="${o}"></div>`}}let c=Object.freeze(new d);class h{static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c.create(e)}static remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;c.remove(e)}static SELECTOR_CLASS(){return o}}},2363:(e,t,s)=>{s.d(t,{L:()=>o,Z:()=>r});let n="loader",o={BEFORE:"before",AFTER:"after",INNER:"inner"};class r{constructor(e,t=o.BEFORE){this.parent=e instanceof Element?e:document.body.querySelector(e),this.position=t}create(){if(!this.exists()){if(this.position===o.INNER){this.parent.innerHTML=r.getTemplate();return}this.parent.insertAdjacentHTML(this._getPosition(),r.getTemplate())}}remove(){this.parent.querySelectorAll(`.${n}`).forEach(e=>e.remove())}exists(){return this.parent.querySelectorAll(`.${n}`).length>0}_getPosition(){return this.position===o.BEFORE?"afterbegin":"beforeend"}static getTemplate(){return`<div class="${n}" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>`}static SELECTOR_CLASS(){return n}}},3019:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(4049),o=s(5774);let r="js-pseudo-modal",a="js-pseudo-modal-template-root-element";class i{constructor(e,t=!0,s=".js-pseudo-modal-template",n=".js-pseudo-modal-template-content-element",o=".js-pseudo-modal-template-title-element"){this._content=e,this._useBackdrop=t,this._templateSelector=s,this._templateContentSelector=n,this._templateTitleSelector=o}open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.ar;this._hideExistingModal(),this._create(),setTimeout(this._open.bind(this,e),t)}close(){let e=this.getModal();this._modalInstance=bootstrap.Modal.getInstance(e),this._modalInstance.hide()}getModal(){return this._modal||this._create(),this._modal}updatePosition(){this._modalInstance.handleUpdate()}updateContent(e,t){this._content=e,this._setModalContent(e),this.updatePosition(),"function"==typeof t&&t.bind(this)()}_hideExistingModal(){try{let e=n.Z.querySelector(document,`.${r} .modal`,!1);if(!e)return;let t=bootstrap.Modal.getInstance(e);if(!t)return;t.hide()}catch(e){console.warn(`[PseudoModalUtil] Unable to hide existing pseudo modal before opening pseudo modal: ${e.message}`)}}_open(e){this.getModal(),this._modal.addEventListener("hidden.bs.modal",this._modalWrapper.remove),this._modal.addEventListener("shown.bs.modal",e),this._modal.addEventListener("hide.bs.modal",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),this._modalInstance.show()}_create(){this._modalMarkupEl=n.Z.querySelector(document,this._templateSelector),this._createModalWrapper(),this._modalWrapper.innerHTML=this._content,this._modal=this._createModalMarkup(),this._modalInstance=new bootstrap.Modal(this._modal,{backdrop:this._useBackdrop}),document.body.insertAdjacentElement("beforeend",this._modalWrapper)}_createModalWrapper(){this._modalWrapper=n.Z.querySelector(document,`.${r}`,!1),this._modalWrapper||(this._modalWrapper=document.createElement("div"),this._modalWrapper.classList.add(r))}_createModalMarkup(){let e=n.Z.querySelector(this._modalWrapper,".modal",!1);if(e)return e;let t=this._modalWrapper.innerHTML;return this._modalWrapper.innerHTML=this._modalMarkupEl.innerHTML,this._setModalContent(t),n.Z.querySelector(this._modalWrapper,".modal")}_setModalTitle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{n.Z.querySelector(this._modalWrapper,this._templateTitleSelector).innerHTML=e}catch(e){}}_setModalContent(e){let t=n.Z.querySelector(this._modalWrapper,this._templateContentSelector);t.innerHTML=e;let s=n.Z.querySelector(t,`.${a}`,!1);if(s){n.Z.querySelector(this._modalWrapper,`.${a}`).replaceChildren(s);return}try{let e=n.Z.querySelector(t,this._templateTitleSelector);e&&(this._setModalTitle(e.innerHTML),e.parentNode.removeChild(e))}catch(e){}}}}}]);