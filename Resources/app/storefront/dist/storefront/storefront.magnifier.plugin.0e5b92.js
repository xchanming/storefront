"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[52845],{1285:(e,t,i)=>{i.d(t,{I9:()=>o,Pq:()=>r});class s{constructor(e){this.entries=e.map((e,t)=>{if("number"!=typeof e)throw Error(`[Vector] argument ${t} must be a number ${typeof e} given.`);return e})}get dimension(){return this.entries.length}validateDimensions(e){if(this.dimension!==e.dimension)throw Error(`[Vector] dimension mismatch expected ${this.dimension} got ${e.dimension}`)}get x(){return this.entries[0]}set x(e){this.entries[0]=e}get y(){return this.entries[1]}set y(e){this.dimension>1&&(this.entries[1]=e)}get z(){return this.entries[2]}set z(e){this.dimension>2&&(this.entries[2]=e)}get w(){return this.entries[3]}set w(e){this.dimension>3&&(this.entries[3]=e)}length(){return Math.sqrt(this.entries.reduce((e,t)=>e+=t*t,0))}add(e){return this.validateDimensions(e),new this.constructor(this.entries.map((t,i)=>t+e.entries[i]))}multiply(e){if(e instanceof s)return this.validateDimensions(e),new this.constructor(this.entries.map((t,i)=>t*e.entries[i]));if("number"!=typeof e||Number.isNaN(e))throw Error("[Vector] multiply: factor must be number or vector");return new this.constructor(this.entries.map(t=>e*t))}subtract(e){return this.add(e.multiply(-1))}divide(e){if(e instanceof s)return new this.constructor(this.entries.map((t,i)=>t/e.entries[i]));if(0===e)throw Error("Can't divide by 0");return this.multiply(1/e)}normalize(){return new this.constructor(this.divide(this.length()))}equals(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let o=t[0]instanceof s?t[0]:new s(Array.isArray(t[0])?t[0]:t);try{return this.validateDimensions(o),this.entries.reduce((e,t,i)=>(t!==o.entries[i]&&(e=!1),e),!0)}catch(e){return!1}}dot(e){return this.validateDimensions(e),this.entries.reduce((t,i,s)=>t+=i*e.entries[s],0)}clamp(e,t){return"number"==typeof e&&(e=new this.constructor(Array(this.dimension).fill(e))),"number"==typeof t&&(t=new this.constructor(Array(this.dimension).fill(t))),new this.constructor(this.entries.map((i,s)=>i<e.entries[s]?e.entries[s]:i>t.entries[s]?t.entries[s]:i))}}class o extends s{constructor(e,t){if(e instanceof s){super(e.entries.slice(0,2));return}if(Array.isArray(e)){super(e.slice(0,2));return}super([e,t])}angle(){return(Math.atan2(this.y,this.x)*(180/Math.PI)+360)%360}}class r extends s{constructor(e,t,i){if(e instanceof s){super(e.entries.slice(0,3));return}if(Array.isArray(e)){super(e.slice(0,3));return}super([e,t,i])}cross(e){return new this.constructor(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}}},2845:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i(4335),o=i(1285),r=i(640);class n extends s.A{static #e=this.options={zoomFactor:3,imageContainerSelector:".js-magnifier-container",imageSelector:".js-magnifier-image",fullImageDataAttribute:"data-full-image",zoomImageContainerSelector:".js-magnifier-zoom-image-container",overlayClass:"js-magnifier-overlay",zoomImageClass:"js-magnifier-zoom-image",magnifierOverGallery:!1,scaleZoomImage:!1,keepAspectRatioOnZoom:!0,cursorType:"none"};init(){this._imageContainers=this.el.querySelectorAll(this.options.imageContainerSelector),this.options.magnifierOverGallery?this._zoomImageContainer=this.el.querySelector(this.options.zoomImageContainerSelector):this._zoomImageContainer=document.querySelector(this.options.zoomImageContainerSelector),this._registerEvents()}_registerEvents(){this._imageContainers.forEach(e=>{let t=e.querySelector(this.options.imageSelector);t&&(t.addEventListener("mousemove",i=>this._onMouseMove(i,e,t),!1),e.addEventListener("mouseout",e=>this._stopMagnify(e),!1))})}_isActive(){return -1!==[r.A.isLG(),r.A.isXL(),r.A.isXXL()].indexOf(!0)}_setCursor(e,t){e&&(e.style.cursor=t)}_onMouseMove(e,t,i){if(this._isActive()&&(this._setCursor(i,this.options.cursorType),this._createOverlay(t),this._createZoomImage(),this._getImageUrl(i),this._imageUrl&&this._zoomImage&&this._overlay)){let s=this._getContainerPos(t),r=this._getImagePos(i),n=this._getImageDimensions(i),a=this._getImageSize(i),m=this._getOverlaySize(a),l=s.subtract(r);l.x=Math.abs(l.x),l.y=Math.abs(l.y);let h=new o.I9(e.pageX,e.pageY).subtract(r),u=h.divide(a).clamp(0,1);this._setOverlayPosition(l,m,a,u),this._setZoomImage(h,a,m,n)}this.$emitter.publish("onMouseMove")}_setOverlayPosition(e,t,i,s){let o=e.subtract(t.divide(2));return o=(o=o.add(i.multiply(s))).clamp(e,e.add(i).subtract(t)),this._overlay.style.left=`${o.x}px`,this._overlay.style.top=`${o.y}px`,o}_setZoomImage(e,t,i,s){this._setZoomImageSize(t),this._zoomImage.style.backgroundImage=`url('${this._imageUrl}')`;let o=this.calculateZoomBackgroundImageSize(s,t);this._zoomImage.style.backgroundSize=`${o.x}px ${o.y}px`;let r=this.calculateZoomImageBackgroundPosition(e,t,i,s,o);this._zoomImage.style.backgroundPosition=`-${r.x}px -${r.y}px`,this.$emitter.publish("setZoomImagePosition")}_setZoomImageSize(e){let t=e.y/e.x,i=this._getZoomImageSize(),s=this.options.keepAspectRatioOnZoom?this.options.scaleZoomImage?i.x*t:i.y:i.x;this._zoomImage.style.height=`${s}px`,this._zoomImage.style.minHeight=`${s}px`}calculateZoomImageBackgroundPosition(e,t,i,s,r){let n=t.subtract(t.divide(this.options.zoomFactor)).subtract(new o.I9(1,1)),a=e.subtract(i.divide(2)).clamp(0,t.subtract(i)).divide(n),m=this.getImageOrientation(s,t),l=1-1/this.options.zoomFactor;return this.options.keepAspectRatioOnZoom&&(a=a.clamp(0,1)),0===m?(a=a.multiply(new o.I9(l,1)),a=(a=this.calculateImagePosition(a,t,s,"y","x")).multiply(new o.I9(1,l))):1===m&&(a=a.multiply(new o.I9(1,l)),a=(a=this.calculateImagePosition(a,t,s,"x","y")).multiply(new o.I9(l,1))),r.multiply(a)}calculateImagePosition(e,t,i,s,o){let r=(1-i[s]*(t[o]/t[s])/(i[o]/1))/2;return e[o]=this.calculateOffsetPercent(r,e[o]),e}calculateOffsetPercent(e,t){return e+(1-2*e)*t}calculateZoomBackgroundImageSize(e,t){let i=this.getImageOrientation(e,t),s=this._getZoomImageSize(),r=new o.I9(0,0);return 1===i?r=new o.I9(s.x,s.x*e.y/e.x):0===i&&(r=new o.I9(s.y*e.x/e.y,s.y)),r.multiply(this.options.zoomFactor)}getImageOrientation(e,t){return this._assertEqualFactors(e,t)?t.x>t.y?0:1:+(t.x/t.y>e.x/e.y)}_assertEqualFactors(e,t){let i=this._roundToTwoDigits(e.x/e.y);return this._roundToTwoDigits(t.x/t.y)===i}_getContainerPos(e){let t=e.getBoundingClientRect();return new o.I9(t.left+window.pageXOffset,t.top+window.pageYOffset)}_getImagePos(e){let t=e.getBoundingClientRect();return new o.I9(t.left+window.pageXOffset,t.top+window.pageYOffset)}_getImageDimensions(e){let{naturalWidth:t,naturalHeight:i}=e;return new o.I9(t,i)}_getImageSize(e){let t=e.getBoundingClientRect();return new o.I9(t.width,t.height)}_getZoomImageSize(){let e=this._zoomImage.getBoundingClientRect();return new o.I9(e.width,e.height)}_getOverlaySize(e){let t=e.divide(this.options.zoomFactor);if(!this.options.keepAspectRatioOnZoom){let e=Math.min(t.x,t.y);t.x=e,t.y=e}return this._overlay.style.width=`${Math.ceil(t.x)}px`,this._overlay.style.height=`${Math.ceil(t.y)}px`,t}_createOverlay(e){if(this._overlay=e.querySelector(`.${this.options.overlayClass}`),this._overlay)return this._overlay;let t=`<div class="magnifier-overlay  ${this.options.overlayClass}">&nbsp;</div>`;return this._overlay=e.insertAdjacentHTML("beforeend",t),this.$emitter.publish("createOverlay"),this._overlay}_removeOverlay(){document.querySelectorAll(`.${this.options.overlayClass}`).forEach(e=>e.remove()),this.$emitter.publish("removeOverlay")}_createZoomImage(){if(this._zoomImage=this._zoomImageContainer.querySelector(`.${this.options.zoomImageClass}`),this._zoomImage)return this._zoomImage;this._zoomImageContainer.style.position="relative";let e=`<div class="magnifier-zoom-image  ${this.options.zoomImageClass}">&nbsp;</div>`;return this._zoomImage=this._zoomImageContainer.insertAdjacentHTML("beforeend",e),this.$emitter.publish("createZoomImage"),this._zoomImage}_removeZoomImage(){document.querySelectorAll(`.${this.options.zoomImageClass}`).forEach(e=>e.remove()),this.$emitter.publish("removeZoomImage")}_getImageUrl(e){this._imageUrl=e.getAttribute(this.options.fullImageDataAttribute),this.$emitter.publish("getImageUrl")}_stopMagnify(){this._removeZoomImage(),this._removeOverlay(),document.querySelectorAll(this.options.imageSelector).forEach(e=>this._setCursor(e,"default")),this.$emitter.publish("stopMagnify")}_roundToTwoDigits(e){return Math.round(1e3*e)/1e3}}}}]);