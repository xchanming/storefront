"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["listing-pagination.plugin"],{9304:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(9568),s=i(4049);class a extends n.Z{_init(){super._init(),this._validateMethods();let t=s.Z.querySelector(document,this.options.parentFilterPanelSelector);this.listing=window.PluginManager.getPluginInstanceFromElement(t,"Listing"),this.listing.registerFilter(this),this._preventDropdownClose()}_preventDropdownClose(){let t=s.Z.querySelector(this.el,this.options.dropdownSelector,!1);t&&t.addEventListener("click",t=>{t.stopPropagation()})}_validateMethods(){if("function"!=typeof this.getValues)throw Error("[".concat(this._pluginName,'] Needs the method "getValues"\''));if("function"!=typeof this.getLabels)throw Error("[".concat(this._pluginName,'] Needs the method "getLabels"\''));if("function"!=typeof this.reset)throw Error("[".concat(this._pluginName,'] Needs the method "reset"\''));if("function"!=typeof this.resetAll)throw Error("[".concat(this._pluginName,'] Needs the method "resetAll"\''))}}a.options={parentFilterPanelSelector:".cms-element-product-listing-wrapper",dropdownSelector:".filter-panel-item-dropdown"}},9775:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var n=i(4049),s=i(9304),a=i(1857),o=i.n(a);class r extends s.Z{init(){this._initButtons(),this.tempValue=null,this._pageChanged=!1}_initButtons(){this.buttons=n.Z.querySelectorAll(this.el,this.options.paginationItemSelector,!1),this.buttons&&this._registerButtonEvents()}_registerButtonEvents(){this.buttons.forEach(t=>{t.addEventListener("click",this.onChangePage.bind(this))})}onChangePage(t){t.preventDefault(),this.tempValue=t.currentTarget.dataset.page,this._saveFocusState(t.currentTarget),this._pageChanged=!0,this.listing.changeListing(),this.tempValue=null}_saveFocusState(t){let e=t.closest(this.options.paginationNavSelector).dataset.paginationLocation;this.listing.options.scrollTopListingWrapper&&(e="top"),window.focusHandler.saveFocusState("listing-pagination",'[data-pagination-location="'.concat(e,'"] [data-focus-id="').concat(t.dataset.focusId,'"]'))}_resumeFocusState(){window.focusHandler.resumeFocusState("listing-pagination",{preventScroll:!0})}reset(){}resetAll(){}getValues(){return null!==this.tempValue?{p:this.tempValue}:{p:1}}afterContentChange(){this._initButtons(),this.buttons&&this._pageChanged&&this._resumeFocusState(),this._pageChanged=!1}getLabels(){return[]}setValuesFromUrl(t){let e=!1;return this.tempValue=1,t.p&&parseInt(t.p)!==parseInt(this.tempValue)&&(this.tempValue=parseInt(t.p),e=!0),e}}r.options=o()(s.Z.options,{page:1,paginationItemSelector:".pagination .page-link",paginationNavSelector:".pagination-nav"})}}]);